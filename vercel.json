{
	"rewrites": [
		{ "source": "/api/(.*)", "destination": "/api/$1" },
		{ "source": "/flags/(.*)", "destination": "/flags/$1" },
		{ "source": "/assets/(.*)", "destination": "/assets/$1" },
		{
			"source": "/manifest.webmanifest",
			"destination": "/manifest.webmanifest"
		},
		{ "source": "/(.*)", "destination": "/index.html" }
	],
	"headers": [
		{
			"source": "/manifest.webmanifest",
			"headers": [
				{
					"key": "Content-Type",
					"value": "application/manifest+json"
				}
			]
		},
		{
			"source": "/(.*)",
			"headers": [
				{ "key": "X-Content-Type-Options", "value": "nosniff" },
				{
					"key": "Referrer-Policy",
					"value": "strict-origin-when-cross-origin"
				},
				{
					"key": "Permissions-Policy",
					"value": "geolocation=(), microphone=(), camera=()"
				},
				{
					"key": "Content-Security-Policy",
					"value": "default-src 'self'; base-uri 'self'; object-src 'none'; frame-ancestors 'none'; img-src 'self' data: https:; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://js.stripe.com; connect-src 'self' https://api.stripe.com https://m.stripe.com https://m.stripe.network; frame-src https://js.stripe.com https://checkout.stripe.com;"
				}
			]
		}
	]
}
